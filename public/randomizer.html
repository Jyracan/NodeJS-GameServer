<!doctype html>
<html>

	<head>
	    <meta charset="utf-8">
	    <title>Randomizer !</title>
	    <script>
	    	setHighScore();
	    	var worldRecord=0;
	    	function generateScore(){
	    		var score = Math.floor(Math.random() * 100) + 1;
	    		alert("Vous avez fait un score de " + String(score));
	    		updateHighScore(score);
	    		updateWorldRecord(score);
	    	}
	    	function getWorldRecord(){
	    		worldRecord=5;
	    	}
	    	function updateWorldRecord(score){
	    		if(score > worldRecord){
	    			worldRecord = score;
	    			promptWorldRecord();
	    		}
	    	}
	    	function setHighScore(){
				if(!("highscore" in localStorage)){
					localStorage.setItem("highscore",0);
				}
			}

			function updateHighScore(cScore){
				if (cScore>localStorage.getItem('highscore')) {
					localStorage.setItem("highscore", cScore);
				}
				promptHighScore();
			}
			function promptWorldRecord (){
				document.getElementById('worldRecord').innerHTML=worldRecord;
			}
			function promptHighScore(){
				document.getElementById('personnalScore').innerHTML=localStorage.getItem("highscore");
			}
			function init(){
				promptWorldRecord();
				promptHighScore();
			}
			
	    </script>
	</head>

	<body onload="init()">
		<input type="button" value="Jouer !" onclick="generateScore()">
		<p>Your best score : <span id=personnalScore></span></p>
		<p>World record : <span id=worldRecord> </span> </p>
	</body>

</html>
